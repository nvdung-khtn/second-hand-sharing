<div class="item-event">
  <div class="item-event__grid">
    <div class="item-event__grid__card">
      <div class="item-event__grid__card__left">
        <span class="item-event__grid__card__left__close" (click)="onClose()">&times;</span>

        <mat-carousel
          class="item-event__grid__card__left__image"
          timings="250ms ease-in"
          [autoplay]="true"
          interval="5000"
          color="arrow"
          maxWidth="800px"
          proportion="25"
          slides="5"
          [loop]="true"
          [hideArrows]="false"
          [hideIndicators]="false"
          [useKeyboard]="true"
          [useMouseWheel]="false"
          orientation="ltr"
          [maintainAspectRatio]="false"
        >
          <mat-carousel-slide
            #matCarouselSlide
            *ngFor="let slide of item?.imageUrl; let i = index"
            [image]="item?.imageUrl[i]"
            overlayColor="#00000040"
            [hideOverlay]="false"
          ></mat-carousel-slide>
        </mat-carousel>
      </div>
    </div>

    <div class="item-event__grid__card text-tab-height">
      <div class="item-event__grid__card__right">
        <div class="item-event__grid__card__right__height">
          <div class="item-event__grid__card__right__title">
            {{ item?.itemName }}
          </div>

          <div class="item-event__grid__card__right__time">
            {{ item?.postTime | date: "dd/MM/yyyy HH:mm:ss" }}
          </div>

          <div class="item-event__grid__card__right__address">
            Địa chỉ:
            <span class="text">
              {{ addressString }}
            </span>
          </div>

          <div class="item-event__grid__card__right__user">
            Người cho:
            <span class="text">
              {{ item?.donateAccountName }}
            </span>
          </div>

          <div class="item-event__grid__card__right__description">
            Mô tả:
            <span class="text">{{ item?.description }}</span>
          </div>

          <div class="item-event__grid__card__right__description">
            Trạng thái:
            <span class="text">
              {{
                item?.status === ItemStatus.COMPLETED
                  ? "Thành viên nhóm đã đến nhận"
                  : "Đang chờ thành viên nhóm đến nhận"
              }}
            </span>
          </div>

          <div class="item-event__grid__card__right__description">
            Người được đề xuất:
            <span class="text" *ngIf="assignedMember">{{ assignedMember?.fullName }}</span>
            <span class="text" *ngIf="!assignedMember">Chưa có đề xuất</span>
          </div>

          <div>
            <!-- FORM THÀNH VIÊN TRONG GROUP -->
            <ng-container *ngIf="userId != item?.donateAccountId; else isOwner">
              <button class="btn-user-info" [routerLink]="['/profile', item?.donateAccountId]">
                Thông tin người cho
              </button>
  
              <div class="assign-dropdown" *ngIf="this.myRole === 'admin'">
                <mat-form-field appearance="fill">
                  <mat-label>Thành viên đảm nhiệm</mat-label>
                  <mat-select disableOptionCentering (selectionChange)="onSelectedDropdown($event)">
                    <mat-option *ngFor="let user of memberGroupList" [value]="user">
                      {{ user.fullName }}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
            </ng-container>
          </div>
        </div>

        <div [style.display]="this.myRole === 'member' && this.assignedMember?.id === this.userId ? 'flex' : 'none'">
          <img class="tick-image" src="assets/image/done.png" />
          <div class="accepted-by-owner">Quản trị viên chọn bạn đi nhận vật phẩm này</div>
        </div>
        
      </div>
    </div>
  </div>
</div>

<!-- <app-loader [style.display]="this.isProcessing ? 'block' : 'none'"></app-loader> -->
